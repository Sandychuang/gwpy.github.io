#####################################
GWpy Example: plotting event triggers
#####################################

.. currentmodule:: gwpy.table.lsctables

Problem
-------

I would like to study the event triggers generated by the
`ExcessPower gravitational-wave burst detection algorithm
<https://dcc.ligo.org/LIGO-T1200125>`_ (LIGO.ORG credentials required) , over
a small stretch of data.

The below events were generated by an analysis of data surrounding a potential
gravitational-wave candidate GW100916.
Please see `this data release announcement
<http://www.ligo.org/science/GW100916/index.php>`_ for more details on this
simulated signal and its analysis.

Solution
--------

The test data we will use are packaged with the GWpy source code, so we can
read that file directly from our position within the ``examples/`` directory.

.. literalinclude:: ../../examples/gw_ex_plot_event_triggers.py
   :lines: 42,45

Now, we can use the :meth:`SnglBurstTable.plot` method to make a scatter
plot of events in frequency versus time

.. literalinclude:: ../../examples/gw_ex_plot_event_triggers.py
   :append: plot.show()
   :lines: 48-53

.. plot:: ../examples/gw_ex_plot_event_triggers.py

|

In this figure we can see a set of significant (higher signal-to-noise
ratio) events around minute 6, indicating the presence of a
gravitational-wave-like signal, in this example the hidden simulation
designated GW100916.

While this figure shows events as single points in time-frequency space,
in truth each event is a 2-dimensional time-frequency tile.
We can display these tiles in a similar fashion by specifying the columns
containing the width (``'duration'``) and height (``'bandwidth'``) for each
tile:

.. literalinclude:: ../../examples/gw_ex_plot_event_tiles.py
   :append: plot2.show()
   :lines: 48-53

.. plot:: ../examples/gw_ex_plot_event_tiles.py

|

In this format, the shape of the signal is much clearer, an exponential sweep
up in frequency, indicative of the inspiral of two compact stars in a binary
system.
